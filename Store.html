<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Vitalcare — Wearable Smart Devices</title>
  <meta name="description" content="Vitalcare: Smart health wearables—watch, ring, bracelet, sleep monitor, central hub, earbuds." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root{
      --blue-1: #0836d6;
      --blue-2: #1b8bff;
      --accent: #0055ff;
      --muted: #6b7280;
      --card: #ffffff;
      --glass: rgba(255,255,255,0.08);
      --radius: 14px;
      --max-width: 1200px;
      --soft: #eef2ff;

      --bg: #0b1020;
      --fg: #e5e7eb;
      --fg-strong: #f8fafc;
      --border: rgba(255,255,255,0.12);
      --shadow: 0 20px 40px rgba(0, 0, 0, 0.35);
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      color: var(--fg);
      background: radial-gradient(1200px 800px at 10% -10%, rgba(27,139,255,0.20), rgba(27,139,255,0) 60%),
                  radial-gradient(900px 600px at 100% 0%, rgba(8,54,214,0.24), rgba(8,54,214,0) 60%),
                  #0a0f1f;
      background-attachment: fixed;
    }

    a{color:inherit}

    .container{max-width:var(--max-width);margin:0 auto;padding:0 20px}

    /* Header */
    .header{position:sticky;top:0;z-index:50;background:rgba(10,15,31,0.6);backdrop-filter: blur(14px);border-bottom:1px solid var(--border)}
    .nav{display:flex;align-items:center;justify-content:space-between;padding:14px 0}
    .brand{display:flex;align-items:center;gap:12px;text-decoration:none}
    .logo{width:36px;height:36px;border-radius:10px;background:linear-gradient(145deg, var(--blue-2), var(--blue-1));display:grid;place-items:center;box-shadow:0 8px 24px rgba(27,139,255,0.45)}
    .logo svg{filter:drop-shadow(0 2px 6px rgba(0,0,0,.25))}
    .brand h1{font-size:18px;letter-spacing:0.4px;margin:0}
    .nav-actions{display:flex;align-items:center;gap:10px}

    .button{appearance:none;border:1px solid var(--border);background:linear-gradient(180deg, rgba(255,255,255,0.08), rgba(255,255,255,0.02));color:var(--fg);padding:10px 14px;border-radius:12px;cursor:pointer;display:inline-flex;align-items:center;gap:8px;transition:transform .05s ease, box-shadow .2s ease, border-color .2s ease}
    .button:hover{box-shadow:0 8px 20px rgba(0,0,0,0.35), inset 0 0 0 9999px rgba(255,255,255,0.02)}
    .button:active{transform:translateY(1px)}
    .button.primary{background:linear-gradient(135deg, var(--blue-2), var(--accent));border-color:transparent;color:white;box-shadow:0 10px 24px rgba(0,85,255,.35)}

    .pill{font-size:12px; padding:6px 10px;border-radius:999px;background:rgba(27,139,255,.12);border:1px solid rgba(27,139,255,.3);color:#cfe5ff}

    /* Hero */
    .hero{position:relative;padding:60px 0 24px}
    .hero-inner{display:grid;grid-template-columns: 1.2fr .8fr;gap:28px;align-items:center}
    .hero h2{font-size:44px;line-height:1.05;margin:0 0 12px;color:var(--fg-strong)}
    .hero p{margin:0 0 20px;color:#cbd5e1}
    .hero-card{border:1px solid var(--border);border-radius:24px;padding:18px;background:linear-gradient(165deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));box-shadow:var(--shadow)}
    .hero-grid{display:grid;grid-template-columns:repeat(3, 1fr);gap:12px}
    .hero-tile{border:1px solid var(--border);border-radius:18px;padding:14px;background:rgba(255,255,255,0.04)}
    .hero-tile h4{margin:8px 0 4px;font-size:13px}
    .hero-tile p{margin:0;font-size:12px;color:#a8b0bd}

    .searchbar{display:flex;gap:10px;align-items:center}
    .searchbar input{flex:1; padding:12px 14px;border-radius:12px;border:1px solid var(--border);background:rgba(255,255,255,0.06);color:var(--fg)}
    .toolbar{display:flex;gap:10px;flex-wrap:wrap}
    .segmented{display:flex;background:rgba(255,255,255,0.06);border:1px solid var(--border);padding:6px;border-radius:12px}
    .segmented button{border:none;background:transparent;color:var(--fg);font:inherit;padding:8px 12px;border-radius:9px;cursor:pointer}
    .segmented button.active{background:linear-gradient(135deg, rgba(27,139,255,0.28), rgba(8,54,214,0.28));}

    /* Grid */
    .section{padding:18px 0 70px}
    .section h3{margin:26px 0 16px;font-size:22px;color:#dbeafe}

    .grid{display:grid;grid-template-columns: repeat(4, minmax(0,1fr));gap:16px}
    @media (max-width:1100px){.hero-inner{grid-template-columns:1fr}.grid{grid-template-columns:repeat(3,1fr)}}
    @media (max-width:800px){.grid{grid-template-columns:repeat(2,1fr)}.hero h2{font-size:36px}}
    @media (max-width:560px){.grid{grid-template-columns:1fr}.nav .brand h1{display:none}}

    .card{position:relative;border:1px solid var(--border);border-radius:18px;overflow:hidden;background:linear-gradient(180deg, rgba(255,255,255,0.05), rgba(255,255,255,0.02));box-shadow:var(--shadow);display:flex;flex-direction:column}
    .card-media{aspect-ratio: 16/12;display:grid;place-items:center;background:radial-gradient(600px 400px at 50% 0%, rgba(27,139,255,0.2), rgba(27,139,255,0) 60%), linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.01))}
    .device-svg{width:62%;max-width:260px;opacity:.95;filter:drop-shadow(0 10px 24px rgba(0,0,0,.5))}
    .badge{position:absolute;top:10px;left:10px}
    .card-body{padding:14px}
    .title{font-weight:600;margin:2px 0}
    .desc{margin:8px 0 12px;color:#b6c0cf;font-size:14px;min-height:42px}
    .price-row{display:flex;justify-content:space-between;align-items:center;margin-top:auto}
    .price{font-size:18px;font-weight:700;color:#e5edff}

    /* Cart Drawer */
    .cart-drawer{position:fixed;right:0;top:0;height:100%;width:380px;max-width:95vw;background:#0c1328;border-left:1px solid var(--border);box-shadow: -20px 0 40px rgba(0,0,0,.45);transform: translateX(110%);transition: transform .28s ease;z-index:90;display:flex;flex-direction:column}
    .cart-drawer.open{transform: translateX(0)}
    .cart-header{display:flex;justify-content:space-between;align-items:center;padding:16px;border-bottom:1px solid var(--border)}
    .cart-body{padding:12px;overflow:auto;flex:1;display:flex;flex-direction:column;gap:10px}
    .cart-item{display:grid;grid-template-columns:56px 1fr auto;gap:10px;align-items:center;border:1px solid var(--border);border-radius:12px;padding:8px;background:rgba(255,255,255,0.04)}
    .cart-item .thumb{width:56px;height:56px;border-radius:10px;background:linear-gradient(135deg, rgba(27,139,255,0.25), rgba(8,54,214,0.25));display:grid;place-items:center}
    .qty{display:flex;align-items:center;gap:6px}
    .qty button{width:26px;height:26px;border-radius:8px;border:1px solid var(--border);background:rgba(255,255,255,0.06);color:var(--fg);cursor:pointer}
    .cart-footer{border-top:1px solid var(--border);padding:14px;display:grid;gap:10px}

    /* Toast */
    .toast{position:fixed;left:50%;bottom:20px;transform:translateX(-50%) translateY(20px);opacity:0;background:rgba(12,19,40,.96);border:1px solid var(--border);padding:10px 14px;border-radius:12px;box-shadow:var(--shadow);transition: all .25s ease;z-index:120}
    .toast.show{opacity:1;transform:translateX(-50%) translateY(0)}

    /* Feature section */
    .features{display:grid;grid-template-columns: repeat(3,1fr);gap:14px}
    .feature{border:1px solid var(--border);border-radius:18px;padding:18px;background:linear-gradient(165deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02))}
    .feature h4{margin:8px 0}
    .feature p{margin:0;color:#aeb8c8}

    /* Footer */
    footer{border-top:1px solid var(--border);background:rgba(255,255,255,0.02);padding:30px 0;color:#c9d3e3}

    /* Floating cart button */
    .fab{position:fixed;right:18px;bottom:18px;border-radius:999px;padding:14px 18px}

    /* Modal */
    .modal{position:fixed;inset:0;display:none;place-items:center;background:rgba(0,0,0,.45);z-index:95}
    .modal.open{display:grid}
    .modal-card{width:min(720px, 96vw);max-height:86vh;overflow:auto;background:#0c1328;border:1px solid var(--border);border-radius:20px;box-shadow:var(--shadow)}
    .modal-head{display:flex;justify-content:space-between;align-items:center;padding:14px 16px;border-bottom:1px solid var(--border)}
    .modal-body{display:grid;grid-template-columns: 1fr 1.2fr;gap:16px;padding:14px}
    .spec{display:grid;grid-template-columns: 1fr 1fr;gap:10px}
    .spec div{border:1px solid var(--border);border-radius:12px;padding:10px;background:rgba(255,255,255,0.04)}
    @media (max-width:840px){.modal-body{grid-template-columns:1fr}.spec{grid-template-columns:1fr}}

  </style>
</head>
<body>
  <header class="header">
    <div class="container nav">
      <a class="brand" href="#">
        <div class="logo" aria-hidden="true">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 2C8 2 5 5 5 9v2H3v7a4 4 0 0 0 4 4h10a4 4 0 0 0 4-4v-7h-2V9c0-4-3-7-7-7Zm0 2a5 5 0 0 1 5 5v2H7V9a5 5 0 0 1 5-5Z" fill="white" fill-opacity=".92"/>
          </svg>
        </div>
        <h1>Vitalcare</h1>
        <span class="pill">Smart Health Wearables</span>
      </a>

      <div class="nav-actions">
        <a href="#features" class="button" title="Jump to features">
          <a href="index.html">Home</a>
        </a>
        <button id="cartBtn" class="button">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6 6h13l-2 9H7L6 6Z" stroke="currentColor" stroke-width="1.6"/><circle cx="9" cy="20" r="1.6" fill="currentColor"/><circle cx="17" cy="20" r="1.6" fill="currentColor"/></svg>
          Cart <span id="cartCount" class="pill" style="margin-left:6px">0</span>
        </button>
      </div>
    </div>
  </header>

  <main>
    <section class="hero container" aria-label="Intro">
      <div class="hero-inner">
        <div>
          <h2>Track. Understand. Thrive.<br/>All-day health insights with Vitalcare.</h2>
          <p>From heart rate to sleep stages, recover smarter with our ecosystem of connected wearables and a privacy-first central hub.</p>
          <div class="toolbar" style="margin:16px 0 18px">
            <div class="searchbar" style="flex:1">
              <input id="search" type="search" placeholder="Search devices (e.g., ring, sleep, earbuds)…" aria-label="Search products"/>
              <button id="clearSearch" class="button" title="Clear search">Clear</button>
            </div>
            <div class="segmented" role="tablist" aria-label="Filter category">
              <button class="active" data-filter="all" role="tab">All</button>
              <button data-filter="watch" role="tab">Watch</button>
              <button data-filter="ring" role="tab">Ring</button>
              <button data-filter="bracelet" role="tab">Bracelet</button>
              <button data-filter="sleep" role="tab">Sleep</button>
              <button data-filter="hub" role="tab">Hub</button>
              <button data-filter="earbuds" role="tab">Earbuds</button>
            </div>
            <div class="segmented" aria-label="Sort">
              <button class="active" data-sort="featured">Featured</button>
              <button data-sort="price-asc">Price ↑</button>
              <button data-sort="price-desc">Price ↓</button>
            </div>
          </div>

          <div class="hero-card">
            <div class="hero-grid">
              <div class="hero-tile">
                <svg width="42" height="42" viewBox="0 0 24 24" fill="none" class="icon"><path d="M7 7h10v10H7z" stroke="#9cc9ff" stroke-width="1.6"/><path d="M10 4h4" stroke="#9cc9ff" stroke-width="1.6"/><path d="M4 10h2M18 10h2M4 14h2M18 14h2" stroke="#9cc9ff" stroke-width="1.6"/></svg>
                <h4>Seamless Ecosystem</h4>
                <p>Sync across all devices via the Vitalcare Hub.</p>
              </div>
              <div class="hero-tile">
                <svg width="42" height="42" viewBox="0 0 24 24" fill="none"><path d="M3 12a9 9 0 1 0 18 0A9 9 0 0 0 3 12Z" stroke="#9cc9ff" stroke-width="1.6"/><path d="M12 7v5l3 3" stroke="#9cc9ff" stroke-width="1.6" stroke-linecap="round"/></svg>
                <h4>Real‑time Insights</h4>
                <p>ECG, SpO₂, HRV, and sleep scoring updated live.</p>
              </div>
              <div class="hero-tile">
                <svg width="42" height="42" viewBox="0 0 24 24" fill="none"><path d="M12 3v18" stroke="#9cc9ff" stroke-width="1.6"/><path d="M5 10h14M5 14h14" stroke="#9cc9ff" stroke-width="1.6"/></svg>
                <h4>Privacy First</h4>
                <p>Your health data is encrypted end‑to‑end.</p>
              </div>
            </div>
          </div>
        </div>

        <div class="hero-card" aria-hidden="true">
          <div class="card-media" style="aspect-ratio: 16/10;border-radius:18px;overflow:hidden">
            <svg class="device-svg" viewBox="0 0 320 220" xmlns="http://www.w3.org/2000/svg">
              <defs>
                <linearGradient id="g1" x1="0" x2="1" y1="0" y2="1">
                  <stop offset="0%" stop-color="#1b8bff"/>
                  <stop offset="100%" stop-color="#0836d6"/>
                </linearGradient>
              </defs>
              <rect x="28" y="30" rx="20" ry="20" width="264" height="160" fill="url(#g1)" opacity="0.28"/>
              <rect x="44" y="46" rx="16" ry="16" width="232" height="126" fill="#0d1b3e" stroke="#3b82f6" opacity="0.65"/>
              <circle cx="160" cy="110" r="50" fill="#12234e" stroke="#60a5fa"/>
              <path d="M110,110 q25,-40 50,0 t50,0" fill="none" stroke="#93c5fd" stroke-width="3"/>
              <path d="M90 180 h140" stroke="#60a5fa" stroke-linecap="round"/>
            </svg>
          </div>
          <div style="display:flex;justify-content:space-between;align-items:center;margin-top:10px">
            <div>
              <div class="pill">Launch offer</div>
              <h4 style="margin:10px 0 0">Bundle & save 15%</h4>
              <p style="margin:6px 0 0;color:#aab6c7">Pick any 2 devices + Hub to unlock bundle pricing.</p>
            </div>
            <button class="button primary" onclick="scrollToGrid()">Shop now</button>
          </div>
        </div>
      </div>
    </section>

    <section class="container section" id="catalog" aria-label="Products">
      <h3>Shop devices</h3>
      <div id="grid" class="grid" role="list"></div>
    </section>

    <section id="features" class="container section" aria-label="Key Features">
      <h3>Key features</h3>
      <div class="features">
        <div class="feature">
          <h4>7‑day battery life</h4>
          <p>Low‑power sensors, adaptive sampling, and intelligent charging recommendations.</p>
        </div>
        <div class="feature">
          <h4>Medical‑grade metrics</h4>
          <p>ECG, SpO₂, HRV, respiration, and temperature trends calibrated across devices.</p>
        </div>
        <div class="feature">
          <h4>Unified Vitalcare Hub</h4>
          <p>Sync all wearables locally, then share to cloud with granular consent controls.</p>
        </div>
      </div>
    </section>
  </main>

  <footer>
    <div class="container" style="display:flex;justify-content:space-between;gap:20px;flex-wrap:wrap;align-items:center">
      <div style="display:flex;align-items:center;gap:10px">
        <div class="logo" style="width:28px;height:28px"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 2C8 2 5 5 5 9v2H3v7a4 4 0 0 0 4 4h10a4 4 0 0 0 4-4v-7h-2V9c0-4-3-7-7-7Z" fill="white" fill-opacity=".92"/></svg></div>
        <strong>Vitalcare</strong>
      </div>
      <small>© <span id="year"></span> Vitalcare Health Technologies · Privacy‑first by design</small>
      <div style="display:flex;gap:10px">
        <a class="button" href="#catalog">Shop</a>
        <a class="button" href="#features">Features</a>
      </div>
    </div>
  </footer>

  <!-- Cart Drawer -->
  <aside id="cart" class="cart-drawer" aria-label="Cart panel" aria-hidden="true">
    <div class="cart-header">
      <strong>Your cart</strong>
      <button class="button" id="closeCart" aria-label="Close cart">Close</button>
    </div>
    <div id="cartItems" class="cart-body" role="list"></div>
    <div class="cart-footer">
      <div style="display:flex;justify-content:space-between">
        <span>Subtotal</span>
        <strong id="subtotal">₹0</strong>
      </div>
      <button class="button primary" id="checkoutBtn">Checkout</button>
      <small style="color:#9fb0c7">Taxes & shipping calculated at checkout.</small>
    </div>
  </aside>

  <button class="button primary fab" id="floatingCart" title="Open cart">
    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6 6h13l-2 9H7L6 6Z" stroke="currentColor" stroke-width="1.6"/><circle cx="9" cy="20" r="1.6" fill="currentColor"/><circle cx="17" cy="20" r="1.6" fill="currentColor"/></svg>
    <span id="cartCountFab" class="pill">0</span>
  </button>

  <!-- Product Modal -->
  <div id="modal" class="modal" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="modal-card">
      <div class="modal-head">
        <strong id="modalTitle">Product</strong>
        <button class="button" id="closeModal">Close</button>
      </div>
      <div class="modal-body">
        <div class="card-media" style="border-radius:16px">
          <svg id="modalSvg" class="device-svg" viewBox="0 0 320 220"></svg>
        </div>
        <div>
          <p id="modalDesc" class="desc" style="min-height:auto"></p>
          <div class="spec" id="spec"></div>
        </div>
      </div>
    </div>
  </div>

  <div id="toast" class="toast" role="status" aria-live="polite">Added to cart</div>

  <script>
    const INR = new Intl.NumberFormat('en-IN', { style:'currency', currency:'INR', maximumFractionDigits:0 });

    const PRODUCTS = [
  {
    id: 'watch-1',
    name: 'Vitalcare Watch',
    category: 'watch',
    price: 14999,
    desc: 'AMOLED display, 24/7 heart rate, ECG, GPS, 7-day battery.',
    specs: { Display:'1.5" AMOLED', Sensors:'ECG, SpO₂, HRV, GPS', Battery:'7 days', Water:'5 ATM' },
    img: 'images/Smartwatch.jpg'   // 👈 replace with your actual image path
  },
  {
    id: 'ring-1',
    name: 'Vitalcare Ring',
    category: 'ring',
    price: 12999,
    desc: 'Titanium sleep & recovery tracker with HRV and skin temp.',
    specs: { Material:'Titanium', Sensors:'HRV, Temp, SpO₂', Battery:'6 days', Weight:'4g' },
    img: 'images/Smartring.jpg'
  },
  {
    id: 'bracelet-1',
    name: 'Vitalcare Bracelet',
    category: 'bracelet',
    price: 8999,
    desc: 'Lightweight activity band with guided breathing & stress score.',
    specs: { Display:'OLED', Sensors:'PPG, HRV', Battery:'10 days', Strap:'Silicone' },
    img: 'images/Smartbracelet.jpg'
  },
  {
    id: 'sleep-1',
    name: 'Smart Sleep Monitor',
    category: 'sleep',
    price: 10999,
    desc: 'Bedside radar sleep tracker—no wear needed. Auto sleep stages.',
    specs: { Tech:'mmWave radar', Metrics:'Stages, RR, HR', Setup:'USB-C', App:'Vitalcare Sleep' },
    img: 'images/Sleepingdetector.jpg'
  },
  {
    id: 'hub-1',
    name: 'Vitalcare Central Hub',
    category: 'hub',
    price: 6999,
    desc: 'Secure local gateway to sync all devices and manage permissions.',
    specs: { Storage:'64 GB', Network:'Wi-Fi 6, BLE 5.3', Security:'E2E encryption', Power:'USB-C' },
    img: 'images/Smarthome.jpg'
  },
  {
    id: 'earbuds-1',
    name: 'Smart Earbuds',
    category: 'earbuds',
    price: 7999,
    desc: 'ANC earbuds with workout coaching and heart-rate sensing.',
    specs: { Audio:'ANC + Transparency', Sensors:'HR, Motion', Battery:'24h w/ case', Codec:'AAC' },
    img: 'images/Smartbuds.jpg'
  }
];

    const state = {
      filter: 'all',
      sort: 'featured',
      q: '',
      cart: JSON.parse(localStorage.getItem('vitalcare-cart')||'[]')
    };

    const $ = (sel, root=document) => root.querySelector(sel);
    const $$ = (sel, root=document) => Array.from(root.querySelectorAll(sel));

    const grid = $('#grid');
    const cartDrawer = $('#cart');
    const cartBtn = $('#cartBtn');
    const floatingCart = $('#floatingCart');
    const closeCart = $('#closeCart');
    const cartItems = $('#cartItems');
    const subtotalEl = $('#subtotal');
    const cartCount = $('#cartCount');
    const cartCountFab = $('#cartCountFab');
    const search = $('#search');
    const clearSearch = $('#clearSearch');

    function scrollToGrid(){ document.getElementById('catalog').scrollIntoView({behavior:'smooth'}) }

    function deviceSVG(kind){
      const common = (inner) => `\n<svg class="device-svg" viewBox='0 0 320 220' xmlns='http://www.w3.org/2000/svg'>\n<defs>\n<linearGradient id='g' x1='0' x2='1' y1='0' y2='1'>\n<stop offset='0%' stop-color='#1b8bff'/>\n<stop offset='100%' stop-color='#0836d6'/>\n</linearGradient>\n</defs>\n<rect x='16' y='16' width='288' height='188' rx='22' fill='url(#g)' opacity='.18'/>\n${inner}\n</svg>`;
      switch(kind){
        case 'watch': return common("<rect x='80' y='54' width='160' height='112' rx='20' fill='#0f1d40' stroke='#70a6ff'/>\n<circle cx='160' cy='110' r='40' fill='#142452' stroke='#a4c8ff'/>\n<path d='M60 70 h30 M230 70 h30 M60 150 h30 M230 150 h30' stroke='#7fb3ff'/>" );
        case 'ring': return common("<circle cx='160' cy='110' r='56' fill='#0f1d40' stroke='#7fb3ff'/>\n<circle cx='160' cy='110' r='34' fill='#0b1733' stroke='#b6d4ff'/>" );
        case 'bracelet': return common("<rect x='60' y='88' width='200' height='44' rx='22' fill='#0f1d40' stroke='#7fb3ff'/>\n<rect x='120' y='72' width='80' height='76' rx='14' fill='#0b1733' stroke='#b6d4ff'/>" );
        case 'sleep': return common("<rect x='80' y='70' width='160' height='80' rx='16' fill='#0f1d40' stroke='#7fb3ff'/>\n<path d='M92 110 q20 -30 40 0 t40 0 t40 0' fill='none' stroke='#b6d4ff' stroke-width='3'/>" );
        case 'hub': return common("<rect x='86' y='76' width='148' height='68' rx='14' fill='#0f1d40' stroke='#7fb3ff'/>\n<circle cx='120' cy='110' r='6' fill='#79ffe1'/>\n<circle cx='160' cy='110' r='6' fill='#7fb3ff'/>\n<circle cx='200' cy='110' r='6' fill='#ffd86b'/>" );
        case 'earbuds': return common("<path d='M120 80 a22 22 0 0 1 22 22 v26 a10 10 0 0 1 -10 10 h-8 a8 8 0 0 1 -8 -8z' fill='#0f1d40' stroke='#7fb3ff'/>\n<path d='M178 80 a22 22 0 0 1 22 22 v26 a10 10 0 0 1 -10 10 h-8 a8 8 0 0 1 -8 -8z' fill='#0f1d40' stroke='#7fb3ff'/>" );
        default: return common("");
      }
    }

    function renderGrid(){
      grid.innerHTML = '';
      let items = PRODUCTS.slice();
      if(state.filter !== 'all') items = items.filter(p => p.category === state.filter);
      if(state.q) items = items.filter(p => (p.name + ' ' + p.desc).toLowerCase().includes(state.q));
      if(state.sort === 'price-asc') items.sort((a,b)=>a.price-b.price);
      if(state.sort === 'price-desc') items.sort((a,b)=>b.price-a.price);

      for(const p of items){
        const card = document.createElement('article');
        card.className = 'card';
        card.setAttribute('role','listitem');
        card.innerHTML = `
          <div class="card-media">
    <img src="${p.img}" alt="${p.name}" style="width:100%;height:100%;object-fit:contain;border-radius:inherit"/>
  </div>

          <span class="badge pill">${p.category}</span>
          <div class="card-body">
            <div class="title">${p.name}</div>
            <div class="desc">${p.desc}</div>
            <div class="price-row">
              <div class="price">${INR.format(p.price)}</div>
              <div style="display:flex;gap:8px">
                <button class="button" data-view="${p.id}">Details</button>
                <button class="button primary" data-add="${p.id}">Add to cart</button>
              </div>
            </div>
          </div>`;
        grid.appendChild(card);
      }

      // Wire buttons
      $$('[data-add]').forEach(btn=> btn.addEventListener('click', e => addToCart(e.target.dataset.add)));
      $$('[data-view]').forEach(btn=> btn.addEventListener('click', e => openModal(e.target.dataset.view)));
    }

    function saveCart(){ localStorage.setItem('vitalcare-cart', JSON.stringify(state.cart)) }

    function updateCartBadge(){
      const count = state.cart.reduce((n,i)=>n+i.qty,0);
      cartCount.textContent = count;
      cartCountFab.textContent = count;
    }

    function openCart(){ cartDrawer.classList.add('open'); cartDrawer.setAttribute('aria-hidden','false'); }
    function closeCartDrawer(){ cartDrawer.classList.remove('open'); cartDrawer.setAttribute('aria-hidden','true'); }

    function addToCart(id){
      const item = state.cart.find(i=>i.id===id);
      if(item) item.qty += 1; else state.cart.push({ id, qty:1 });
      saveCart();
      renderCart();
      updateCartBadge();
      showToast('Added to cart');
    }

    function removeFromCart(id){
      state.cart = state.cart.filter(i=>i.id!==id);
      saveCart();
      renderCart();
      updateCartBadge();
    }

    function setQty(id, delta){
      const item = state.cart.find(i=>i.id===id);
      if(!item) return;
      item.qty = Math.max(1, item.qty + delta);
      saveCart();
      renderCart();
      updateCartBadge();
    }

    function renderCart(){
      cartItems.innerHTML = '';
      let total = 0;
      for(const c of state.cart){
        const p = PRODUCTS.find(p=>p.id===c.id);
        if(!p) continue;
        total += p.price * c.qty;
        const row = document.createElement('div');
        row.className = 'cart-item';
        row.innerHTML = `
          <div class='thumb'>${p.svg}</div>
          <div>
            <div style='font-weight:600'>${p.name}</div>
            <div style='color:#a7b3c7;font-size:13px'>${INR.format(p.price)}</div>
          </div>
          <div class='qty'>
            <button aria-label='Decrease' data-dec='${p.id}'>−</button>
            <span>${c.qty}</span>
            <button aria-label='Increase' data-inc='${p.id}'>+</button>
            <button class='button' style='margin-left:8px' data-del='${p.id}'>Remove</button>
          </div>`;
        cartItems.appendChild(row);
      }
      subtotalEl.textContent = INR.format(total);

      $$('[data-inc]').forEach(b=>b.addEventListener('click', e=>setQty(e.target.dataset.inc, +1)));
      $$('[data-dec]').forEach(b=>b.addEventListener('click', e=>setQty(e.target.dataset.dec, -1)));
      $$('[data-del]').forEach(b=>b.addEventListener('click', e=>removeFromCart(e.target.dataset.del)));
    }

    function showToast(text){
      const t = document.getElementById('toast');
      t.textContent = text;
      t.classList.add('show');
      setTimeout(()=> t.classList.remove('show'), 1400);
    }

    // Modal
    const modal = document.getElementById('modal');
    const modalTitle = document.getElementById('modalTitle');
    const modalDesc = document.getElementById('modalDesc');
    const modalSvg = document.getElementById('modalSvg');
    const spec = document.getElementById('spec');

    function openModal(id){
      const p = PRODUCTS.find(p=>p.id===id);
      if(!p) return;
      modalTitle.textContent = p.name;
      modalDesc.textContent = p.desc;
      modalSvg.innerHTML = p.svg;
      spec.innerHTML = '';
      Object.entries(p.specs).forEach(([k,v])=>{
        const d = document.createElement('div');
        d.innerHTML = `<strong>${k}</strong><div style='color:#aab6c7;margin-top:4px'>${v}</div>`;
        spec.appendChild(d);
      })
      modal.classList.add('open');
      modal.setAttribute('aria-hidden','false');
    }

    function closeModal(){ modal.classList.remove('open'); modal.setAttribute('aria-hidden','true'); }

    // Event wiring
    cartBtn.addEventListener('click', openCart);
    floatingCart.addEventListener('click', openCart);
    closeCart.addEventListener('click', closeCartDrawer);
    document.getElementById('closeModal').addEventListener('click', closeModal);
    modal.addEventListener('click', (e)=>{ if(e.target === modal) closeModal(); });

    // Filters & sort
    $$('.segmented button').forEach(btn=>{
      btn.addEventListener('click', (e)=>{
        const parent = e.target.parentElement;
        parent.querySelectorAll('button').forEach(b=>b.classList.remove('active'));
        e.target.classList.add('active');
        const f = e.target.dataset.filter;
        const s = e.target.dataset.sort;
        if(f) state.filter = f;
        if(s) state.sort = s;
        renderGrid();
      })
    })

    search.addEventListener('input', ()=>{ state.q = search.value.trim().toLowerCase(); renderGrid(); })
    clearSearch.addEventListener('click', ()=>{ search.value=''; state.q=''; renderGrid(); })

    document.getElementById('checkoutBtn').addEventListener('click', ()=>{
      if(!state.cart.length) return showToast('Your cart is empty');
      showToast('Redirecting to checkout…');
    });

    // Init
    document.getElementById('year').textContent = new Date().getFullYear();
    renderGrid();
    renderCart();
    updateCartBadge();
  </script>
</body>
</html>